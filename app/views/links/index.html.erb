<h1>Welcome to Spinboard</h1>
<h2>All Links</h2>
<% if @links.empty? %>
  <p>You haven't submitted any links yet.</p>
<% else %>
  <table>
    <tr>
      <th>Title</th>
      <th>URL</th>
      <th>Read</th>
      <th></th>
    </tr>
    <% @links.each do |link| %>
      <tr>
        <td class="read-<%= link.read %>"><%= link.title %></td>
        <td class="read-<%= link.read %>"><a href="<%= link.url %>"><%= link.url %></td>
        <td><%= link.read %></td>
        <td>
          <% if !link.read %> 
                 <%= form_tag link_path(link.id, {link: {title: link.title, url: link.url, read: true}}), method: :patch do %>
                 <%= submit_tag 'Mark as Read' %>
               <% end %>
             <% else %>
                 <%= form_tag link_path(link.id, {link: {title: link.title, url: link.url, read: false}}), method: :patch do %>
                 <%= submit_tag 'Mark as Unread' %>
               <% end %>
           <% end %>
        </td>

      </tr>
    <% end %>
  </table>
<% end %>

<h2>Submit New Link</h1>
<%= form_for(@link) do |f| %>
  <%= f.label :title %>
  <%= f.text_field :title %>

  <%= f.label :url %>
  <%= f.text_field :url %>

  <%= f.submit %>
<% end %>

